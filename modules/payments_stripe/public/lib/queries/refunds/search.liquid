{%- liquid
  assign page = page | to_positive_integer: 1
  assign limit = limit | to_positive_integer: 20
  assign transaction_id = transaction_id | default: null
  assign refund_id = refund_id | default: null
  assign id = id | default: null
  assign charge = charge | default: null
  assign payment_intent = payment_intent | default: null
  assign status = status | default: null

  graphql g = "modules/payments_stripe/refunds/search", id: id, page: page, limit: limit, transaction_id: transaction_id, refund_id: refund_id, charge: charge, payment_intent: payment_intent, status: status
  if g.records == blank
    log params, type: "QUERY ERROR - PARAMS"
    log g, type: "QUERY ERROR"
  endif

  return g.records
-%}
